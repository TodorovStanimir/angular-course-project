{"version":3,"sources":["./src/app/book/book.service.ts","./src/app/comment/comment.service.ts"],"names":[],"mappings":"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","file":"common-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\n\nimport { APP_KEY } from '../core/kinvey.tokens';\nimport { IBook } from '../shared/interfaces/book';\nimport { IBookInfo } from '../shared/interfaces/bookInfo';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BookService {\n  private readonly BASE_URL = `https://baas.kinvey.com/appdata/${APP_KEY}`;\n  private readonly ALL_BOOKS_URL = `${this.BASE_URL}/books?query={}&sort={\"_kmd.ect\": -1}`;\n  private readonly CREATE_BOOK_URL = `${this.BASE_URL}/books`;\n\n\n  constructor(private http: HttpClient) { }\n\n\n  createBook(body: IBook) {\n    return this.http.post(this.CREATE_BOOK_URL, body, {\n      headers: new HttpHeaders({\n        Authorization: `Kinvey ${localStorage.getItem('token')}`\n      })\n    });\n  }\n\n  getAllBooks() {\n    return this.http.get<IBookInfo[]>(this.ALL_BOOKS_URL, {\n      headers: new HttpHeaders({\n        Authorization: `Kinvey ${localStorage.getItem('token')}`\n      })\n    });\n  }\n\n  getUserBooks() {\n    return this.http.get<IBookInfo[]>\n      (`${this.BASE_URL}/books?query={\"author\":\"${localStorage.getItem(`username`)}\"}&sort={\"_kmd.ect\":-1}`, {\n        headers: new HttpHeaders({\n          Authorization: `Kinvey ${localStorage.getItem('token')}`\n        })\n      });\n  }\n\n  deleteBook(id: string) {\n    return this.http.delete(`${this.CREATE_BOOK_URL}/${id}`, {\n      headers: new HttpHeaders({\n        Authorization: `Kinvey ${localStorage.getItem('token')}`\n      })\n    });\n  }\n\n  getBook(id: string) {\n    return this.http.get<IBookInfo>(`${this.CREATE_BOOK_URL}/${id}`, {\n      headers: new HttpHeaders({\n        Authorization: `Kinvey ${localStorage.getItem('token')}`\n      })\n    });\n  }\n\n  editBook(body: IBookInfo, id: string) {\n    delete body[`${id}`];\n    delete body[`${'_acl'}`];\n    return this.http.put<IBookInfo>(`${this.CREATE_BOOK_URL}/${id}`, body, {\n      headers: new HttpHeaders({\n        Authorization: `Kinvey ${localStorage.getItem('token')}`\n      })\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { APP_KEY } from '../core/kinvey.tokens';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { ICommentInfo } from '../shared/interfaces/commentInfo';\nimport { IComment } from '../shared/interfaces/comment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CommentService {\n\n  private readonly BASE_URL = `https://baas.kinvey.com/appdata/${APP_KEY}`;\n  private readonly CREATE_COMMENT_URL = `${this.BASE_URL}/comments`;\n\n\n  constructor(private http: HttpClient) { }\n\n  getAllComments(criteria: string, bookId: string) {\n    const searchedCriteria = criteria==='all' ? '' : `?query={\"${criteria}\":\"${bookId}\"}&sort={\"_kmd.ect\": -1}`;\n    return this.http.get<ICommentInfo[]>(`${this.CREATE_COMMENT_URL}${searchedCriteria}`, {\n      headers: new HttpHeaders({\n        Authorization: `Kinvey ${localStorage.getItem('token')}`\n      })\n    });\n  }\n\n  postComment(body: IComment) {\n    return this.http.post<ICommentInfo>(this.CREATE_COMMENT_URL, body, {\n      headers: new HttpHeaders({\n        Authorization: `Kinvey ${localStorage.getItem('token')}`\n      })\n    });\n  }\n\n  deleteComment(commentId: string) {\n    return this.http.delete(`${this.CREATE_COMMENT_URL}/${commentId}`, {\n      headers: new HttpHeaders({\n        Authorization: `Kinvey ${localStorage.getItem('token')}`\n      })\n    });\n  }\n\n\n}\n"],"sourceRoot":"webpack:///"}