{"version":3,"sources":["src/app/book/book.service.ts","src/app/comment/comment.service.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\n\nimport { APP_KEY } from '../core/kinvey.tokens';\nimport { IBook } from '../shared/interfaces/book';\nimport { IBookInfo } from '../shared/interfaces/bookInfo';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BookService {\n  private readonly BASE_URL = `https://baas.kinvey.com/appdata/${APP_KEY}`;\n  private readonly ALL_BOOKS_URL = `${this.BASE_URL}/books?query={}&sort={\"_kmd.ect\": -1}`;\n  private readonly CREATE_BOOK_URL = `${this.BASE_URL}/books`;\n\n\n  constructor(private http: HttpClient) { }\n\n\n  createBook(body: IBook) {\n    return this.http.post(this.CREATE_BOOK_URL, body, {\n      headers: new HttpHeaders({\n        Authorization: `Kinvey ${localStorage.getItem('token')}`\n      })\n    });\n  }\n\n  getAllBooks() {\n    return this.http.get<IBookInfo[]>(this.ALL_BOOKS_URL, {\n      headers: new HttpHeaders({\n        Authorization: `Kinvey ${localStorage.getItem('token')}`\n      })\n    });\n  }\n\n  getUserBooks() {\n    return this.http.get<IBookInfo[]>\n      (`${this.BASE_URL}/books?query={\"author\":\"${localStorage.getItem(`username`)}\"}&sort={\"_kmd.ect\":-1}`, {\n        headers: new HttpHeaders({\n          Authorization: `Kinvey ${localStorage.getItem('token')}`\n        })\n      });\n  }\n\n  deleteBook(id: string) {\n    return this.http.delete(`${this.CREATE_BOOK_URL}/${id}`, {\n      headers: new HttpHeaders({\n        Authorization: `Kinvey ${localStorage.getItem('token')}`\n      })\n    });\n  }\n\n  getBook(id: string) {\n    return this.http.get<IBookInfo>(`${this.CREATE_BOOK_URL}/${id}`, {\n      headers: new HttpHeaders({\n        Authorization: `Kinvey ${localStorage.getItem('token')}`\n      })\n    });\n  }\n\n  editBook(body: IBookInfo, id: string) {\n    delete body[`${id}`];\n    delete body[`${'_acl'}`];\n    return this.http.put<IBookInfo>(`${this.CREATE_BOOK_URL}/${id}`, body, {\n      headers: new HttpHeaders({\n        Authorization: `Kinvey ${localStorage.getItem('token')}`\n      })\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { APP_KEY } from '../core/kinvey.tokens';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { ICommentInfo } from '../shared/interfaces/commentInfo';\nimport { IComment } from '../shared/interfaces/comment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CommentService {\n\n  private readonly BASE_URL = `https://baas.kinvey.com/appdata/${APP_KEY}`;\n  private readonly CREATE_COMMENT_URL = `${this.BASE_URL}/comments`;\n\n\n  constructor(private http: HttpClient) { }\n\n  getAllComments(criteria: string, bookId: string) {\n    const searchedCriteria = criteria==='all' ? '' : `?query={\"${criteria}\":\"${bookId}\"}&sort={\"_kmd.ect\": -1}`;\n    return this.http.get<ICommentInfo[]>(`${this.CREATE_COMMENT_URL}${searchedCriteria}`, {\n      headers: new HttpHeaders({\n        Authorization: `Kinvey ${localStorage.getItem('token')}`\n      })\n    });\n  }\n\n  postComment(body: IComment) {\n    return this.http.post<ICommentInfo>(this.CREATE_COMMENT_URL, body, {\n      headers: new HttpHeaders({\n        Authorization: `Kinvey ${localStorage.getItem('token')}`\n      })\n    });\n  }\n\n  deleteComment(commentId: string) {\n    return this.http.delete(`${this.CREATE_COMMENT_URL}/${commentId}`, {\n      headers: new HttpHeaders({\n        Authorization: `Kinvey ${localStorage.getItem('token')}`\n      })\n    });\n  }\n\n\n}\n"],"sourceRoot":"webpack:///","file":"common-es5.js"}